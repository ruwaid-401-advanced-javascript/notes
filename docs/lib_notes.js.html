<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: lib/notes.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: lib/notes.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

/**
 * Execute the commands that passed from input module 
 * @module notes
 */
require('colors');
const NotesColection = require('../models/notes-collection');
const notesColection = new NotesColection();

/**
* Notes 
* @class
* @property {function} execute - will choose the correct function according to the terminal input  
* @property {function} add - will add a new note
* @property {function} delete - will delete the note 
* @property {function} update - will update the note 
* @property {function} list - will get the notes from database and display note list 
* @property {function} displayStyle - will display the note list 
*/
class Notes {
  constructor() {

  }

  /**
 * execute - will choose the correct function according to the terminal input  
 * @param {object} operation - the arguments from the terminal
 * @async
 */
  async execute(operation) {
    if (operation.error) return console.log(operation.error.red);
    if (operation.action === 'add') return this.add(operation);
    if (operation.action === 'list') return this.list(operation);
    if (operation.action === 'delete') return this.delete(operation);
    if (operation.action === 'update') return this.update(operation);
  }


  /**
 * add - will add a new note 
 * @param {object} operation - the arguments from the terminal
 * @async
 */
  async add(operation) {
    let entry = { text: operation.payload, category: operation.category };
    console.log('Note saved '.white, entry.text.blue);
    await notesColection.create(entry);
  }


  /**
 * delete - will delete the note 
 * @param {object} DataToDelete - the arguments from the terminal
 * @async
 */
  async delete(DataToDelete) {
    console.log('Deleted Note '.white, DataToDelete.id.blue);
    await notesColection.delete(DataToDelete.id);
  }


  /**
 * update - will update the note 
 * @param {object} operation - the arguments from the terminal
 * @async
 */
  async update(operation) {
    let entry = { text: operation.payload, id: operation.id };
    console.log('note updated '.white, entry.text.blue);
    await notesColection.update(entry.id, entry.text);
  }

  /**
 * list - will get the notes from database and display note list 
 * @param {object} category - the arguments from the terminal
 * @async
 */
  async list(categoryToList) {
    let needToTest = categoryToList.category;
    let data = needToTest !== true ? await notesColection.get(needToTest) : await notesColection.get();
    this.displayStyle(data);
  }
  /**
 * Display list - will display the note list 
 * @param {array} data - the data from database
 */
  displayStyle(data) {
    if (data.length) {
      data.forEach(e => {
        console.log();
        console.log(e.text.cyan);
        console.log('Category:'.white, e.category.blue, 'ID:'.white, e._id);
        console.log('-----------------------------------'.gray);
      });
    } else {
      console.log('No data found');
    }
  }

}

module.exports = Notes;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-index.html">index</a></li><li><a href="module-input.html">input</a></li><li><a href="module-notes.html">notes</a></li></ul><h3>Classes</h3><ul><li><a href="module-input-Input.html">Input</a></li><li><a href="module-notes-Notes.html">Notes</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Fri May 29 2020 21:49:37 GMT+0300 (Eastern European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
